import { type NextPage } from "next";
import Head from "next/head";

import HomeScreen from "~/components/screens/Home";
import shopify from "~/utils/shopify/client";

export type HomePageProps = Awaited<ReturnType<typeof getStaticProps>>["props"];

const HomePage: NextPage<HomePageProps> = (props) => {
  return (
    <>
      <Head>
        <title>MSXII Sound Design</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <HomeScreen {...props} />
    </>
  );
};

export async function getStaticProps() {
  const input = {
    productsFirst: 7,
    collectionsFirst: 50,
  };

  const allBasicCollections = (await shopify.collections.queries.many(input))
    .collections;

  return {
    props: { allBasicCollections },
    revalidate: 60,
  };
}

export default HomePage;
